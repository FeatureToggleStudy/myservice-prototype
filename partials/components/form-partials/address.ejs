<%

if (typeof id === "undefined") var id = formPartialsID("address");

%>


<fieldset id="<%- id %>">
    <legend class="uikit-text-input__label">
        <%- typeof legend !== "undefined" ? legend : "" %>

        <% if (typeof tooltip !== "undefined" && typeof tooltip.screenreaderText !== "undefined" && typeof tooltip.content !== "undefined") { %>
          <%- 
            generateTooltip({
              screenreaderText: tooltip.screenreaderText,
              content: tooltip.content,
              id,
              modifiers
            })
          %>
        <% } %>

        <% if (typeof hint !== "undefined") { %>
          <span class="hint"><%- typeof modifiers !== "undefined" && modifiers && modifiers.includes("hintNewLine") ? "<br>" : "" %><%- hint %></span>
        <% } %>
    </legend>

    <% if (!(typeof modifiers !== "undefined" && modifiers.includes("noCountry"))) { %>
      <div class="form-group">
        <label for="<%- id %>-country" class="uikit-text-input__label">Country</label>
        <select name="<%- id %>-country" id="<%- id %>-country" class="uikit-text-input input-half">
          <option value="australia" selected>Australia</option>
          <option value="nz">New Zealand</option>
        </select>
      </div>
    <% } %>
    
    <div class="form-group">
      <label for="<%- id %>-building" class="uikit-text-input__label">Building name or address prefix <span class="hint">(optional)</span></label>
      <input type="text" name="<%- id %>-building" id="<%- id %>-building" class="uikit-text-input">
    </div>
    
    <div class="form-group">
      <label for="<%- id %>-address-1" class="uikit-text-input__label">Address line 1</label>
      <input type="text" name="<%- id %>-address-1" id="<%- id %>-address-1" class="uikit-text-input">
    </div>
    
    <div class="form-group">
      <label for="<%- id %>-address-2" class="uikit-text-input__label">Address line 2 <span class="hint">(optional)</span></label>
      <input type="text" name="<%- id %>-address-2" id="<%- id %>-address-2" class="uikit-text-input">
    </div>
    
    <div class="form-group">
      <label for="<%- id %>-suburb" class="uikit-text-input__label">Suburb or town</label>
      <input type="text" name="<%- id %>-suburb" id="<%- id %>-suburb" class="uikit-text-input">
    </div>
    
    <div class="form-group">
      <label for="<%- id %>-postcode" class="uikit-text-input__label">Postcode</label>
      <input type="text" name="<%- id %>-postcode" id="<%- id %>-postcode" class="uikit-text-input input-small yyyy">
    </div>
  
    <div class="form-group" id="<%- id %>-state-wrapper">
      <label class="uikit-text-input__label" for="<%- id %>-state">State or territory</label>
      <select id="<%- id %>-state" class="uikit-text-input input-half">
        <option>-- Select state or territory --</option>
        <option>Australian Capital Territory</option>
        <option>New South Wales</option>
        <option>Northern Territory</option>
        <option>Queensland</option>
        <option>South Australia</option>
        <option>Tasmania</option>
        <option>Victoria</option>
        <option>Western Australia</option>
      </select>
    </div>

</fieldset>

<% if (!(typeof modifiers !== "undefined" && modifiers.includes("noCountry"))) { %>
  <script>
    $("#<%- id %>-country").on("change", function() {
      console.log($(this))
      if ($(":selected", this).val() === "nz") {
        $("#<%- id %>-state-wrapper").hide();
      } else {
        $("#<%- id %>-state-wrapper").show();
      }
    })
  </script>
<% } %>